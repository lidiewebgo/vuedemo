{"remainingRequest":"/Users/isaac-chip/Desktop/vuedemo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/isaac-chip/Desktop/vuedemo/src/layout/components/Edit/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/isaac-chip/Desktop/vuedemo/src/layout/components/Edit/index.vue","mtime":1598929534647},{"path":"/Users/isaac-chip/Desktop/vuedemo/node_modules/cache-loader/dist/cjs.js","mtime":1598920875181},{"path":"/Users/isaac-chip/Desktop/vuedemo/node_modules/babel-loader/lib/index.js","mtime":1598920874167},{"path":"/Users/isaac-chip/Desktop/vuedemo/node_modules/cache-loader/dist/cjs.js","mtime":1598920875181},{"path":"/Users/isaac-chip/Desktop/vuedemo/node_modules/vue-loader/lib/index.js","mtime":1598920886437}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBFIGZyb20gJ3dhbmdlZGl0b3InCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRWRpdG9yYmFyJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRvcjogbnVsbCwKICAgICAgaW5mb186IG51bGwKICAgIH0KICB9LAogIG1vZGVsOiB7CiAgICBwcm9wOiAndmFsdWUnLAogICAgZXZlbnQ6ICdjaGFuZ2UnCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIGlzQ2xlYXI6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpc0NsZWFyICh2YWwpIHsKICAgICAgLy8g6Kem5Y+R5riF6Zmk5paH5pys5Z+f5YaF5a65CiAgICAgIGlmICh2YWwpIHsKICAgICAgICB0aGlzLmVkaXRvci50eHQuY2xlYXIoKQogICAgICAgIHRoaXMuaW5mb18gPSBudWxsCiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZSAodmFsKSB7CiAgICAgIC8vIOS9v+eUqCB2LW1vZGVsIOaXtu+8jOiuvue9ruWIneWni+WAvAogICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh2YWwpCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuc2V0ZWRpdG9yKCkKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldGVkaXRvciAoKSB7CiAgICAgIHRoaXMuZWRpdG9yID0gbmV3IEUodGhpcy4kcmVmcy50b29sYmFyLCB0aGlzLiRyZWZzLmVkaXRvcikKICAgICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ1Nob3dCYXNlNjQgPSB0cnVlIC8vIGJhc2UgNjQg5a2Y5YKo5Zu+54mHCiAgICAgIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy51cGxvYWRJbWdTZXJ2ZXIgPSAnJy8vIOmFjee9ruacjeWKoeWZqOerr+WcsOWdgAogICAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkSW1nSGVhZGVycyA9IHsgICAgICB9Ly8g6Ieq5a6a5LmJIGhlYWRlcgogICAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkRmlsZU5hbWUgPSAnJyAvLyDlkI7nq6/mjqXlj5fkuIrkvKDmlofku7bnmoTlj4LmlbDlkI0KICAgICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ01heFNpemUgPSAyICogMTAyNCAqIDEwMjQgLy8g5bCG5Zu+54mH5aSn5bCP6ZmQ5Yi25Li6IDJNCiAgICAgIHRoaXMuZWRpdG9yLmN1c3RvbUNvbmZpZy51cGxvYWRJbWdNYXhMZW5ndGggPSA2IC8vIOmZkOWItuS4gOasoeacgOWkmuS4iuS8oCAzIOW8oOWbvueJhwogICAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkSW1nVGltZW91dCA9IDMgKiA2MCAqIDEwMDAgLy8g6K6+572u6LaF5pe25pe26Ze0CiAgICAgIC8vIOmFjee9ruiPnOWNlQogICAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcubWVudXMgPSBbCiAgICAgICAgJ2hlYWQnLCAvLyDmoIfpopgKICAgICAgICAnYm9sZCcsIC8vIOeyl+S9kwogICAgICAgICdmb250U2l6ZScsIC8vIOWtl+WPtwogICAgICAgICdmb250TmFtZScsIC8vIOWtl+S9kwogICAgICAgICdpdGFsaWMnLCAvLyDmlpzkvZMKICAgICAgICAndW5kZXJsaW5lJywgLy8g5LiL5YiS57q/CiAgICAgICAgJ3N0cmlrZVRocm91Z2gnLCAvLyDliKDpmaTnur8KICAgICAgICAnZm9yZUNvbG9yJywgLy8g5paH5a2X6aKc6ImyCiAgICAgICAgJ2JhY2tDb2xvcicsIC8vIOiDjOaZr+minOiJsgogICAgICAgICdsaW5rJywgLy8g5o+S5YWl6ZO+5o6lCiAgICAgICAgJ2xpc3QnLCAvLyDliJfooagKICAgICAgICAnanVzdGlmeScsIC8vIOWvuem9kOaWueW8jwogICAgICAgICdxdW90ZScsIC8vIOW8leeUqAogICAgICAgICdlbW90aWNvbicsIC8vIOihqOaDhQogICAgICAgICdpbWFnZScsIC8vIOaPkuWFpeWbvueJhwogICAgICAgICd0YWJsZScsIC8vIOihqOagvAogICAgICAgICd2aWRlbycsIC8vIOaPkuWFpeinhumikQogICAgICAgICdjb2RlJywgLy8g5o+S5YWl5Luj56CBCiAgICAgICAgJ3VuZG8nLCAvLyDmkqTplIAKICAgICAgICAncmVkbycgLy8g6YeN5aSNCiAgICAgIF0KICAgICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ0hvb2tzID0gewogICAgICAgIGZhaWw6ICh4aHIsIGVkaXRvciwgcmVzdWx0KSA9PiB7CiAgICAgICAgICAvLyDmj5LlhaXlm77niYflpLHotKXlm57osIMKICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3M6ICh4aHIsIGVkaXRvciwgcmVzdWx0KSA9PiB7CiAgICAgICAgICAvLyDlm77niYfkuIrkvKDmiJDlip/lm57osIMKICAgICAgICB9LAogICAgICAgIHRpbWVvdXQ6ICh4aHIsIGVkaXRvcikgPT4gewogICAgICAgICAgLy8g572R57uc6LaF5pe255qE5Zue6LCDCiAgICAgICAgfSwKICAgICAgICBlcnJvcjogKHhociwgZWRpdG9yKSA9PiB7CiAgICAgICAgICAvLyDlm77niYfkuIrkvKDplJnor6/nmoTlm57osIMKICAgICAgICB9LAogICAgICAgIGN1c3RvbUluc2VydDogKGluc2VydEltZywgcmVzdWx0LCBlZGl0b3IpID0+IHsKICAgICAgICAgIC8vIOWbvueJh+S4iuS8oOaIkOWKn++8jOaPkuWFpeWbvueJh+eahOWbnuiwgwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcub25jaGFuZ2UgPSAoaHRtbCkgPT4gewogICAgICAgIHRoaXMuaW5mb18gPSBodG1sIC8vIOe7keWumuW9k+WJjemAkOa4kOWcsOWAvAogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuaW5mb18pIC8vIOWwhuWGheWuueWQjOatpeWIsOeItue7hOS7tuS4rQogICAgICB9CiAgICAgIC8vIOWIm+W7uuWvjOaWh+acrOe8lui+keWZqAogICAgICB0aGlzLmVkaXRvci5jcmVhdGUoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/components/Edit","sourcesContent":["<template lang=\"html\">\n  <div class=\"editor\">\n    <div ref=\"toolbar\" class=\"toolbar\">\n    </div>\n    <div ref=\"editor\" class=\"text\">\n    </div>\n  </div>\n</template>\n\n<script>\nimport E from 'wangeditor'\nexport default {\n  name: 'Editorbar',\n  data () {\n    return {\n      editor: null,\n      info_: null\n    }\n  },\n  model: {\n    prop: 'value',\n    event: 'change'\n  },\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    isClear: {\n      type: Boolean,\n      default: false\n    }\n  },\n  watch: {\n    isClear (val) {\n      // 触发清除文本域内容\n      if (val) {\n        this.editor.txt.clear()\n        this.info_ = null\n      }\n    },\n    value (val) {\n      // 使用 v-model 时，设置初始值\n      this.editor.txt.html(val)\n    }\n  },\n  mounted () {\n    this.seteditor()\n  },\n  methods: {\n    seteditor () {\n      this.editor = new E(this.$refs.toolbar, this.$refs.editor)\n      this.editor.customConfig.uploadImgShowBase64 = true // base 64 存储图片\n      this.editor.customConfig.uploadImgServer = ''// 配置服务器端地址\n      this.editor.customConfig.uploadImgHeaders = {      }// 自定义 header\n      this.editor.customConfig.uploadFileName = '' // 后端接受上传文件的参数名\n      this.editor.customConfig.uploadImgMaxSize = 2 * 1024 * 1024 // 将图片大小限制为 2M\n      this.editor.customConfig.uploadImgMaxLength = 6 // 限制一次最多上传 3 张图片\n      this.editor.customConfig.uploadImgTimeout = 3 * 60 * 1000 // 设置超时时间\n      // 配置菜单\n      this.editor.customConfig.menus = [\n        'head', // 标题\n        'bold', // 粗体\n        'fontSize', // 字号\n        'fontName', // 字体\n        'italic', // 斜体\n        'underline', // 下划线\n        'strikeThrough', // 删除线\n        'foreColor', // 文字颜色\n        'backColor', // 背景颜色\n        'link', // 插入链接\n        'list', // 列表\n        'justify', // 对齐方式\n        'quote', // 引用\n        'emoticon', // 表情\n        'image', // 插入图片\n        'table', // 表格\n        'video', // 插入视频\n        'code', // 插入代码\n        'undo', // 撤销\n        'redo' // 重复\n      ]\n      this.editor.customConfig.uploadImgHooks = {\n        fail: (xhr, editor, result) => {\n          // 插入图片失败回调\n        },\n        success: (xhr, editor, result) => {\n          // 图片上传成功回调\n        },\n        timeout: (xhr, editor) => {\n          // 网络超时的回调\n        },\n        error: (xhr, editor) => {\n          // 图片上传错误的回调\n        },\n        customInsert: (insertImg, result, editor) => {\n          // 图片上传成功，插入图片的回调\n        }\n      }\n      this.editor.customConfig.onchange = (html) => {\n        this.info_ = html // 绑定当前逐渐地值\n        this.$emit('change', this.info_) // 将内容同步到父组件中\n      }\n      // 创建富文本编辑器\n      this.editor.create()\n    }\n  }\n}\n</script>\n\n<style lang=\"css\">\n.editor {\n  width: 80%;\n  margin: 0 auto;\n}\n.toolbar {\n  border: 1px solid #ccc;\n}\n.text {\n  border: 1px solid #ccc;\n  height: 500px;\n}\n</style>"]}]}